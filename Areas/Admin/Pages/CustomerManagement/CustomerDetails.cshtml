@page
@model AssetProject.Areas.Admin.Pages.CustomerManagement.CustomerDetailsModel
@inject Microsoft.AspNetCore.Antiforgery.IAntiforgery Xsrf
@{
}

<div class="slim-mainpanel">
      <div class="container">
        <div class="slim-pageheader">
          <ol class="breadcrumb slim-breadcrumb">
            <li class="breadcrumb-item"><a href="#">Home</a></li>
            <li class="breadcrumb-item"><a href="#">SETUP</a></li>
            <li class="breadcrumb-item active" aria-current="page">Customer Details</li>
          </ol>
          <h6 class="slim-pagetitle">Customer Information</h6>
        </div><!-- slim-pageheader -->

        <div class="section-wrapper">
          <div class="form-layout">
                    <div class="row mg-t-25">
                      <div class="col-lg-4">
                        <div class="form-group">
                          <label class="form-control-label">@sharedResource["FullName"] : <span class="tx-danger">*</span></label>
                          <div>
                               <label ><h4>@Model.customer.FullName</h4></label>
                          </div>
                         
                        </div>
                      </div><!-- col-4 -->       
                     <div class="col-lg-4">
                        <div class="form-group">
                          <label class="form-control-label">CompanyName : <span class="tx-danger">*</span></label>
                          <div>
                               <label ><h4>@Model.customer.CompanyName</h4></label>
                          </div>
                         
                        </div>
                      </div><!-- col-4 -->
                        <div class="col-lg-4">
                        <div class="form-group">
                          <label class="form-control-label">Address 1 : <span class="tx-danger">*</span></label>
                          <div>
                               <label ><h4>@Model.customer.Address1</h4></label>
                          </div>
                         
                        </div>
                      </div><!-- col-4 -->
                      </div>
                        <div class="row mg-b-10">
                       
                         <div class="col-lg-4">
                        <div class="form-group">
                          <label class="form-control-label">Address 2 : <span class="tx-danger">*</span></label>
                          <div>
                               <label ><h4>@Model.customer.Address1</h4></label>
                          </div>
                         
                        </div>
                      </div><!-- col-4 -->
                   
                    
                        <div class="col-lg-4">
                        <div class="form-group">
                          <label class="form-control-label">Country : <span class="tx-danger">*</span></label>
                          <div>
                               <label ><h4>@Model.customer.Country</h4></label>
                          </div>
                         
                        </div>
                      </div><!-- col-4 -->

                      <div class="col-lg-4">
                        <div class="form-group">
                          <label class="form-control-label">City : <span class="tx-danger">*</span></label>
                          <div>
                               <label ><h4>@Model.customer.City</h4></label>
                          </div>
                         
                        </div>
                      </div><!-- col-4 -->
                       </div><!--End Row-->
                        <div class="row mg-b-10">
                      
                      <div class="col-lg-4">
                        <div class="form-group">
                          <label class="form-control-label">State : <span class="tx-danger">*</span></label>
                          <div>
                               <label ><h4>@Model.customer.State</h4></label>
                          </div>
                         
                        </div>
                      </div><!-- col-4 -->
                        <div class="col-lg-4">
                        <div class="form-group">
                          <label class="form-control-label">Postal Code : <span class="tx-danger">*</span></label>
                          <div>
                               <label ><h4>@Model.customer.PostalCode</h4></label>
                          </div>
                         
                        </div>
                      </div><!-- col-4 -->
                    
                        <div class="col-lg-4">
                        <div class="form-group">
                          <label class="form-control-label">Phone: <span class="tx-danger">*</span></label>
                          <div>
                               <label ><h4>@Model.customer.Phone</h4></label>
                          </div>
                         
                        </div>
                      </div><!-- col-4 -->
                     </div>
                     <div class="row mg-b-10">
              
                        <div class="col-lg-4">
                        <div class="form-group">
                          <label class="form-control-label">Email: <span class="tx-danger">*</span></label>
                          <div>
                               <label ><h4>@Model.customer.Email</h4></label>
                          </div>
                         
                        </div>
                      </div><!-- col-4 -->
                            
                        <div class="col-lg-8">
                        <div class="form-group">
                          <label class="form-control-label">Notes: <span class="tx-danger">*</span></label>
                          <div>
                               <label ><h4>@Model.customer.Notes</h4></label>
                          </div>
                         
                        </div>
                      </div><!-- col-8 -->
                    </div><!--End Row-->
                    <script>
    function grid_dataSource_beforeSend(op, ajax) {
        ajax.headers = {
            RequestVerificationToken: "@Xsrf.GetAndStoreTokens(Model.HttpContext).RequestToken"
        };
    }
                </script>
                 <label class="section-title d-inline mb-4 mt-4">@sharedResource["Asset Leasing"]</label>
                @(Html.DevExtreme().DataGrid<AssetProject.Models.AssetLeasing>()
    .DataSource(ds => ds.RemoteController()
        .LoadUrl(Url.Page("CustomerDetails", "GridData"))
        .LoadParams(new { CustomerId = Model.customer.CustomerId})
    )
    .RemoteOperations(true)
    .Columns(columns =>
    {

                    columns.AddFor(m => m.Asset.Photo).Caption(sharedResource["Photo"]).Width(100)
                    .AllowFiltering(false)
                    .AllowSorting(false)
                    .CellTemplate(@<text>
                <div>
                    <img src="/<%- value %>" alt="" width="35" height="35" />
                </div>
            </text>);
        columns.AddFor(m => m.Asset.AssetDescription).Caption(sharedResource["Description"]);
        columns.AddFor(m => m.Asset.AssetTagId).Caption(sharedResource["AssetTagId"]);
                    columns.AddFor(m => m.Asset.AssetCost).Caption(sharedResource["AssetCost"]);
        columns.AddFor(m => m.Asset.AssetSerialNo).Caption(sharedResource["AssetSerialNo"]);
        columns.AddFor(m => m.Asset.ItemId).Caption(sharedResource["Item"]).Lookup(lookup => lookup
        .DataSource(ds => ds.WebApi().Controller("Assets").LoadAction("ItemsLookup").Key("Value"))
        .ValueExpr("Value")
        .DisplayExpr("Text")
        );
         columns.AddFor(m => m.StartDate).Caption(sharedResource["Leasing StartDate"]);
         columns.AddFor(m => m.EndDate).Caption(sharedResource["Leasing EndDate"]);
    })

                        )

                    <div class="form-layout-footer mt-4 ">
                      <a asp-area="admin" class="btn btn-secondary " asp-page="CustomerList">@sharedResource["BacktoList"]</a>
                     </div><!-- form-layout-footer -->
          </div><!-- form-layout -->
        </div><!-- section-wrapper --> 
  </div><!-- container -->
