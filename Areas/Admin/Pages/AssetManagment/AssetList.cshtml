@page
@model AssetProject.Areas.Admin.Pages.AssetManagment.AssetListModel
@{
}

@(Html.DevExtreme().DataGrid<AssetProject.Models.Asset>()
.DataSource(ds => ds.Mvc()
.Controller("Assets")
.LoadAction("Get")
.Key("AssetId")
)
.HeaderFilter(headerFilter => headerFilter.Visible(true))
.Selection(s => s
    .Mode(SelectionMode.Multiple)
)
.ColumnChooser(cc => cc.Enabled(true))
.ColumnAutoWidth(true)
.WordWrapEnabled(true)
.ShowBorders(true)
.Columns(columns => {


columns.AddFor(m => m.Photo).Width(100)
 .AllowFiltering(false)
 .AllowSorting(false)
 .CellTemplate(@<text>
         <div>
         <img src="<%- value %>" alt="" width="35" height="35" />
         </div>
                      </text>);
columns.AddFor(m => m.AssetDescription);

columns.AddFor(m => m.AssetTagId);

columns.AddFor(m => m.AssetCost);

columns.AddFor(m => m.AssetSerialNo);

columns.AddFor(m => m.AssetPurchaseDate);

columns.AddFor(m => m.ItemId).Lookup(lookup => lookup
        .DataSource(ds => ds.WebApi().Controller("Assets").LoadAction("ItemsLookup").Key("Value"))
        .ValueExpr("Value")
        .DisplayExpr("Text")
    );



    //columns.AddFor(m => m.DepreciableAsset);

    //columns.AddFor(m => m.DepreciableCost);

    //columns.AddFor(m => m.SalvageValue);

    //columns.AddFor(m => m.AssetLife);

    //columns.AddFor(m => m.DateAcquired);

    //columns.AddFor(m => m.DepreciationMethodId).Lookup(lookup => lookup
    //    .DataSource(ds => ds.WebApi().Controller("Assets").LoadAction("DepreciationMethodsLookup").Key("Value"))
    //    .ValueExpr("Value")
    //    .DisplayExpr("Text")
    //);

})
.RemoteOperations(true).Columns(columns =>
    {

    columns.Add().Caption("Actions").Alignment(HorizontalAlignment.Center).CellTemplate(@<text>
                <a href="/Admin/BrandManagment/EditBrand?id=<%- data.BrandId %>"> View  </a>

            </text>).Width(150);
        })

)